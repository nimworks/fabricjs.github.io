{"componentChunkName":"component---src-templates-demo-jsx","path":"/demo/animating-crosses","result":{"data":{"demoPage":{"html":"<div\n  class=\"codepen-later\"\n  data-editable=\"true\"\n  data-height=\"500\"\n  data-default-tab=\"result\"\n  data-prefill='{\n    \"scripts\": [\"https://unpkg.com/fabric@4.0.0-rc.1/dist/fabric.js\"]\n  }'\n>\n<pre data-lang=\"html\">\n  <canvas id=\"c\" width=\"600\" height=\"500\"></canvas>\n</pre>\n<pre data-lang=\"js\">\n(function() {\n\tvar canvas = this.__canvas = new fabric.Canvas('c');\n\tfabric.Object.prototype.transparentCorners = false;\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var Cross = fabric.util.createClass(fabric.Object, {\n\tobjectCaching: false,\n\tinitialize: function(options) {\n\t\tthis.callSuper(&#39;initialize&#39;, options);\n\t\tthis.animDirection = &#39;up&#39;;\n\n\t\tthis.width = 100;\n\t\tthis.height = 100;\n\n\t\tthis.w1 = this.h2 = 100;\n\t\tthis.h1 = this.w2 = 30;\n\t},\n\n\tanimateWidthHeight: function() {\n\t\tvar interval = 2;\n\n\t\tif (this.h2 &gt;= 30 &amp;&amp; this.h2 &lt;= 100) {\n\t\t\tvar actualInterval = (this.animDirection === &#39;up&#39; ? interval : -interval);\n\t\t\tthis.h2 += actualInterval;\n\t\t\tthis.w1 += actualInterval;\n\t\t}\n\n\t\tif (this.h2 &gt;= 100) {\n\t\t\tthis.animDirection = &#39;down&#39;;\n\t\t\tthis.h2 -= interval;\n\t\t\tthis.w1 -= interval;\n\t\t}\n\t\tif (this.h2 &lt;= 30) {\n\t\t\tthis.animDirection = &#39;up&#39;;\n\t\t\tthis.h2 += interval;\n\t\t\tthis.w1 += interval;\n\t\t}\n\t},\n\n\t_render: function(ctx) {\n\t\tctx.fillRect(-this.w1 / 2, -this.h1 / 2, this.w1, this.h1);\n\t\tctx.fillRect(-this.w2 / 2, -this.h2 / 2, this.w2, this.h2);\n\t}\n});\n\ncanvas.add(\n\tnew Cross({\n\t\ttop: 100,\n\t\tleft: 100\n\t}),\n\tnew Cross({\n\t\ttop: 140,\n\t\tleft: 230\n\t}),\n\tnew Cross({\n\t\ttop: 300,\n\t\tleft: 210\n\t}),\n\tnew Cross({\n\t\ttop: 40,\n\t\tleft: 400\n\t}),\n\tnew Cross({\n\t\ttop: 450,\n\t\tleft: 400\n\t})\n);\n\nsetTimeout(function animate() {\n\tcanvas.forEachObject(function(obj) {\n\t\tobj.animateWidthHeight();\n\t\tobj.dirty = true;\n\t});\n\tcanvas.renderAll();\n\tsetTimeout(animate, 10);\n}, 10);</code></pre></div>\n<p>})();</p>\n</pre>\n</div>","frontmatter":{"title":"Animating crosses"},"mdFile":{"__typename":"File","relativePath":"demo/animating-crosses/index.md"}}},"pageContext":{"slug":"/demo/animating-crosses","prev":null,"next":{"title":"Animation easing","slug":"/demo/animation-easing"}}}}