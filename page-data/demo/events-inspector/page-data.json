{"componentChunkName":"component---src-templates-demo-jsx","path":"/demo/events-inspector","result":{"data":{"demoPage":{"html":"<div\n  class=\"codepen-later\"\n  data-editable=\"true\"\n  data-height=\"500\"\n  data-default-tab=\"result\"\n  data-prefill='{\n    \"scripts\": [\"https://unpkg.com/fabric@4.0.0-rc.1/dist/fabric.js\", \"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.js\"]\n  }'\n>\n<pre data-lang=\"css\" data-options-autoprefixer=\"true\">\n  p { margin-top: 3px; margin-bottom: 3px; }\n  #log1, #log2 { display: inline-block; width: 620px; height: 260px; overflow-y: scroll; overflow-x: scroll; font-family: monospace; font-size: 11px; }\n  #log1 > p { border-bottom: 1px solid blue; }\n  #observing-events-log { position: absolute; top: 70px; left: 650px }\n  #non-observing-events-log { position: absolute; top: 70px; left: 840px; }\n  #observing-events-log-obj { position: absolute; top: 190px; left: 840px; }\n  #drag-stuff {\n    position: absolute; top: 162px; left: 430px;\n  }\n  #drag-me {\n    display: inline-block;\n    width: 100px;\n    background-color: purple;\n    height: 100px;\n  }\n  .log strong { margin-bottom: 10px; display: block; }\n</pre>\n<pre data-lang=\"html\">\n<p>\n  To avoid event spamming, you can disable the two checkbox below.<br />\n  <input type=\"checkbox\" id=\"move\" checked /> MouseMove <input type=\"checkbox\" id=\"dragover\" checked /> DragOver.\n</p>\n<canvas id=\"c1\" width=\"400\" height=\"250\"></canvas>\n<div id=\"drag-stuff\" class=\"log\">\n  Drag me on the canvas<br /><br />\n  <div id=\"drag-me\" draggable=\"true\" ondragstart=\"event.dataTransfer.setData('text/plain', '')\"></div>\n</div>\n<div id=\"observing-events-log\" class=\"log\">\n  <strong>Observing these events</strong>\n</div>\n<div id=\"observing-events-log-obj\" class=\"log\">\n  <strong>Objects events</strong>\n</div>\n<div id=\"non-observing-events-log\" class=\"log\">\n  <strong>Other available events</strong>\n  <p>\"path:created\"</p>\n  <p>\"object:added\"</p>\n  <p>\"object:removed\"</p>\n</div>\n<div>\n  <div id=\"log1\">&nbsp;</div>\n</div>\n</pre>\n<pre data-lang=\"js\">\n(function() {\n\tthis.__canvases = [];\n\tfabric.Object.prototype.transparentCorners = false;\n\tvar canvas2 = new fabric.Canvas('c1');\n\tcanvas2.add(new fabric.Rect({\n\t\twidth: 50,\n\t\theight: 50,\n\t\tfill: 'red',\n\t\ttop: 100,\n\t\tleft: 100\n\t}));\n\tcanvas2.add(new fabric.Rect({\n\t\twidth: 30,\n\t\theight: 30,\n\t\tfill: 'green',\n\t\ttop: 50,\n\t\tleft: 50\n\t}));\n\tcanvas2.add(new fabric.Circle({\n\t\tradius: 20,\n\t\tfill: 'blue',\n\t\ttop: 160,\n\t\tleft: 140\n\t}));\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var log2 = document.getElementById(&#39;log1&#39;);\n\nfunction log(message, opt, color) {\n\tif ((message === &#39;mouse:move&#39; || message === &#39;mousemove&#39; || message === &#39;mouse:move:before&#39; || message === &#39;mousemove:before&#39;) &amp;&amp; !document.getElementById(&#39;move&#39;).checked) {\n\t\treturn;\n\t}\n\tif ((message === &#39;dragover&#39;) &amp;&amp; !document.getElementById(&#39;dragover&#39;).checked) {\n\t\treturn;\n\t}\n\tvar el = document.createElement(&#39;p&#39;);\n\tif (color) {\n\t\tel.style.color = color;\n\t}\n\tel.appendChild(document.createTextNode(message + &#39; &#39; + JSON.stringify(opt)));\n\tlog2.insertBefore(el, log2.firstChild);\n\tvar children = log2.children;\n\twhile (children[100]) {\n\t\tvar child = children[100];\n\t\tlog2.removeChild(child);\n\t}\n}\n\nfunction logObservingEvent(eventName) {\n\tvar el = document.getElementById(&#39;observing-events-log&#39;);\n\tvar para = document.createElement(&#39;p&#39;);\n\tpara.appendChild(document.createTextNode(eventName));\n\tel.appendChild(para);\n}\n\nfunction logObservingEventObj(eventName) {\n\tvar el = document.getElementById(&#39;observing-events-log-obj&#39;);\n\tvar para = document.createElement(&#39;p&#39;);\n\tpara.appendChild(document.createTextNode(eventName));\n\tel.appendChild(para);\n}\n\nfunction addSeparator(id) {\n\tdocument.getElementById(id).appendChild(document.createElement(&#39;br&#39;));\n}\n\nfunction observe(eventName) {\n\tlogObservingEvent(eventName);\n\tcanvas2.on(eventName, function(opt) {\n\t\tlog(eventName, opt)\n\t});\n}\n\nfunction observeObj(eventName) {\n\tlogObservingEventObj(eventName);\n\tcanvas2.getObjects().forEach(function(o) {\n\t\to.on(eventName, function(opt) {\n\t\t\tlog(eventName, opt, o.fill)\n\t\t});\n\t});\n}\n\nobserve(&#39;object:modified&#39;);\naddSeparator(&#39;observing-events-log&#39;);\n\nobserve(&#39;object:moving&#39;);\nobserve(&#39;object:scaling&#39;);\nobserve(&#39;object:rotating&#39;);\nobserve(&#39;object:skewing&#39;);\nobserve(&#39;object:moved&#39;);\nobserve(&#39;object:scaled&#39;);\nobserve(&#39;object:rotated&#39;);\nobserve(&#39;object:skewed&#39;);\naddSeparator(&#39;observing-events-log&#39;);\n\nobserve(&#39;before:transform&#39;);\nobserve(&#39;before:selection:cleared&#39;);\nobserve(&#39;selection:cleared&#39;);\nobserve(&#39;selection:created&#39;);\nobserve(&#39;selection:updated&#39;);\naddSeparator(&#39;observing-events-log&#39;);\n\nobserve(&#39;mouse:up&#39;);\nobserve(&#39;mouse:down&#39;);\nobserve(&#39;mouse:move&#39;);\nobserve(&#39;mouse:up:before&#39;);\nobserve(&#39;mouse:down:before&#39;);\nobserve(&#39;mouse:move:before&#39;);\nobserve(&#39;mouse:dblclick&#39;);\nobserve(&#39;mouse:wheel&#39;);\nobserve(&#39;mouse:over&#39;);\nobserve(&#39;mouse:out&#39;);\naddSeparator(&#39;observing-events-log&#39;);\n\nobserve(&#39;drop&#39;);\nobserve(&#39;dragover&#39;);\nobserve(&#39;dragenter&#39;);\nobserve(&#39;dragleave&#39;);\naddSeparator(&#39;observing-events-log&#39;);\n\nobserve(&#39;after:render&#39;);\naddSeparator(&#39;observing-events-log&#39;);\n\nobserveObj(&#39;moving&#39;);\nobserveObj(&#39;scaling&#39;);\nobserveObj(&#39;rotating&#39;);\nobserveObj(&#39;skewing&#39;);\nobserveObj(&#39;moved&#39;);\nobserveObj(&#39;scaled&#39;);\nobserveObj(&#39;rotated&#39;);\nobserveObj(&#39;skewed&#39;);\naddSeparator(&#39;observing-events-log-obj&#39;);\n\nobserveObj(&#39;mouseup&#39;);\nobserveObj(&#39;mousedown&#39;);\nobserveObj(&#39;mousemove&#39;);\nobserveObj(&#39;mouseup:before&#39;);\nobserveObj(&#39;mousedown:before&#39;);\nobserveObj(&#39;mousemove:before&#39;);\nobserveObj(&#39;mousedblclick&#39;);\nobserveObj(&#39;mousewheel&#39;);\nobserveObj(&#39;mouseover&#39;);\nobserveObj(&#39;mouseout&#39;);\naddSeparator(&#39;observing-events-log-obj&#39;);\n\nobserveObj(&#39;drop&#39;);\nobserveObj(&#39;dragover&#39;);\nobserveObj(&#39;dragenter&#39;);\nobserveObj(&#39;dragleave&#39;);\nthis.__canvases.push(canvas2);</code></pre></div>\n<p>})();</p>\n</pre>\n</div>","frontmatter":{"title":"Events inspector"},"mdFile":{"__typename":"File","relativePath":"demo/events-inspector/index.md"}}},"pageContext":{"slug":"/demo/events-inspector","prev":{"title":"Custom controls for polygon","slug":"/demo/custom-controls-polygon"},"next":{"title":"Free drawing","slug":"/demo/free-drawing"}}},"staticQueryHashes":["2748212769"]}